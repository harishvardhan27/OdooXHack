{"ast":null,"code":"import _objectSpread from\"E:/communitypulse/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{Container,Grid,Typography,TextField,MenuItem,Select,FormControl,InputLabel}from'@mui/material';import EventCard from'../components/EventCard';import{getEvents}from'../services/events';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventsPage=()=>{const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({category:'',location:'',upcoming:true});const{isAuthenticated}=useAuth();useEffect(()=>{const fetchEvents=async()=>{try{const data=await getEvents(filters);setEvents(data);}catch(error){console.error('Error fetching events:',error);}finally{setLoading(false);}};fetchEvents();},[filters]);const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};if(loading)return/*#__PURE__*/_jsx(Typography,{children:\"Loading events...\"});return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Upcoming Events\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Location\",name:\"location\",value:filters.location,onChange:handleFilterChange})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Category\"}),/*#__PURE__*/_jsxs(Select,{name:\"category\",value:filters.category,onChange:handleFilterChange,label:\"Category\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"sports\",children:\"Sports\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"music\",children:\"Music\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"food\",children:\"Food\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"art\",children:\"Art\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"education\",children:\"Education\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Time\"}),/*#__PURE__*/_jsxs(Select,{name:\"upcoming\",value:filters.upcoming,onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{upcoming:e.target.value})),label:\"Time\",children:[/*#__PURE__*/_jsx(MenuItem,{value:true,children:\"Upcoming\"}),/*#__PURE__*/_jsx(MenuItem,{value:false,children:\"Past Events\"})]})]})})]}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:events.length>0?events.map(event=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(EventCard,{event:event,isAuthenticated:isAuthenticated})},event.id)):/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{mt:2},children:\"No events found matching your criteria.\"})})]});};export default EventsPage;","map":{"version":3,"names":["useState","useEffect","Container","Grid","Typography","TextField","MenuItem","Select","FormControl","InputLabel","EventCard","getEvents","useAuth","jsx","_jsx","jsxs","_jsxs","EventsPage","events","setEvents","loading","setLoading","filters","setFilters","category","location","upcoming","isAuthenticated","fetchEvents","data","error","console","handleFilterChange","e","name","value","target","prev","_objectSpread","children","maxWidth","sx","mt","variant","gutterBottom","container","spacing","mb","item","xs","md","fullWidth","label","onChange","length","map","event","sm","id"],"sources":["E:/communitypulse/frontend/src/pages/EventsPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Container, Grid, Typography, TextField, MenuItem, Select, FormControl, InputLabel } from '@mui/material';\r\nimport EventCard from '../components/EventCard';\r\nimport { getEvents } from '../services/events';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nconst EventsPage = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    category: '',\r\n    location: '',\r\n    upcoming: true\r\n  });\r\n  const { isAuthenticated } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        const data = await getEvents(filters);\r\n        setEvents(data);\r\n      } catch (error) {\r\n        console.error('Error fetching events:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchEvents();\r\n  }, [filters]);\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  if (loading) return <Typography>Loading events...</Typography>;\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n      <Typography variant=\"h4\" gutterBottom>Upcoming Events</Typography>\r\n      \r\n      <Grid container spacing={2} sx={{ mb: 4 }}>\r\n        <Grid item xs={12} md={4}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Location\"\r\n            name=\"location\"\r\n            value={filters.location}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel>Category</InputLabel>\r\n            <Select\r\n              name=\"category\"\r\n              value={filters.category}\r\n              onChange={handleFilterChange}\r\n              label=\"Category\"\r\n            >\r\n              <MenuItem value=\"\">All Categories</MenuItem>\r\n              <MenuItem value=\"sports\">Sports</MenuItem>\r\n              <MenuItem value=\"music\">Music</MenuItem>\r\n              <MenuItem value=\"food\">Food</MenuItem>\r\n              <MenuItem value=\"art\">Art</MenuItem>\r\n              <MenuItem value=\"education\">Education</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel>Time</InputLabel>\r\n            <Select\r\n              name=\"upcoming\"\r\n              value={filters.upcoming}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, upcoming: e.target.value }))}\r\n              label=\"Time\"\r\n            >\r\n              <MenuItem value={true}>Upcoming</MenuItem>\r\n              <MenuItem value={false}>Past Events</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <Grid container spacing={4}>\r\n        {events.length > 0 ? (\r\n          events.map(event => (\r\n            <Grid item xs={12} sm={6} md={4} key={event.id}>\r\n              <EventCard event={event} isAuthenticated={isAuthenticated} />\r\n            </Grid>\r\n          ))\r\n        ) : (\r\n          <Typography variant=\"body1\" sx={{ mt: 2 }}>No events found matching your criteria.</Typography>\r\n        )}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EventsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}