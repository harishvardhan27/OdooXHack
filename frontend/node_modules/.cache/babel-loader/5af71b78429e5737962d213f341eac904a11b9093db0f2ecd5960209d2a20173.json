{"ast":null,"code":"var _jsxFileName = \"E:\\\\communitypulse\\\\frontend\\\\src\\\\components\\\\PollCard.jsx\",\n  _s = $RefreshSig$();\nimport { Card, CardContent, Typography, Button, Box, LinearProgress, Chip } from '@mui/material';\nimport { HowToVote, Poll } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PollCard = ({\n  poll,\n  onVote\n}) => {\n  _s();\n  const options = JSON.parse(poll.options);\n  const totalVotes = options.reduce((sum, opt) => sum + (opt.votes || 0), 0);\n  const [selectedOption, setSelectedOption] = useState(null);\n  const handleVote = () => {\n    if (selectedOption !== null) {\n      onVote(poll.id, options[selectedOption].text);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      mb: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Poll, {\n          color: \"primary\",\n          sx: {\n            mr: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: poll.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), !poll.is_active && /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"Closed\",\n          size: \"small\",\n          sx: {\n            ml: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this), options.map((option, index) => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            mb: 0.5\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: option.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 15\n          }, this), totalVotes > 0 && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [Math.round(option.votes / totalVotes * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: totalVotes > 0 ? option.votes / totalVotes * 100 : 0,\n          sx: {\n            height: 8,\n            borderRadius: 4\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, this)), poll.is_active && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mb: 1\n          },\n          children: \"Select your vote:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), options.map((option, index) => /*#__PURE__*/_jsxDEV(Button, {\n          variant: selectedOption === index ? \"contained\" : \"outlined\",\n          size: \"small\",\n          sx: {\n            mr: 1,\n            mb: 1\n          },\n          onClick: () => setSelectedOption(index),\n          children: option.text\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(HowToVote, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 26\n          }, this),\n          disabled: selectedOption === null,\n          onClick: handleVote,\n          sx: {\n            mt: 1\n          },\n          children: \"Vote\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n_s(PollCard, \"JA8CxE9ZrczvRffCFoauEAbBIYg=\");\n_c = PollCard;\nexport default PollCard;\nvar _c;\n$RefreshReg$(_c, \"PollCard\");","map":{"version":3,"names":["Card","CardContent","Typography","Button","Box","LinearProgress","Chip","HowToVote","Poll","jsxDEV","_jsxDEV","PollCard","poll","onVote","_s","options","JSON","parse","totalVotes","reduce","sum","opt","votes","selectedOption","setSelectedOption","useState","handleVote","id","text","sx","mb","children","display","alignItems","color","mr","fileName","_jsxFileName","lineNumber","columnNumber","variant","question","is_active","label","size","ml","map","option","index","justifyContent","Math","round","value","height","borderRadius","mt","onClick","startIcon","disabled","_c","$RefreshReg$"],"sources":["E:/communitypulse/frontend/src/components/PollCard.jsx"],"sourcesContent":["import { Card, CardContent, Typography, Button, Box, LinearProgress, Chip } from '@mui/material';\r\nimport { HowToVote, Poll } from '@mui/icons-material';\r\n\r\nconst PollCard = ({ poll, onVote }) => {\r\n  const options = JSON.parse(poll.options);\r\n  const totalVotes = options.reduce((sum, opt) => sum + (opt.votes || 0), 0);\r\n  const [selectedOption, setSelectedOption] = useState(null);\r\n\r\n  const handleVote = () => {\r\n    if (selectedOption !== null) {\r\n      onVote(poll.id, options[selectedOption].text);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card sx={{ mb: 2 }}>\r\n      <CardContent>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n          <Poll color=\"primary\" sx={{ mr: 1 }} />\r\n          <Typography variant=\"h6\">{poll.question}</Typography>\r\n          {!poll.is_active && <Chip label=\"Closed\" size=\"small\" sx={{ ml: 1 }} />}\r\n        </Box>\r\n        \r\n        {options.map((option, index) => (\r\n          <Box key={index} sx={{ mb: 1 }}>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 0.5 }}>\r\n              <Typography variant=\"body2\">\r\n                {option.text}\r\n              </Typography>\r\n              {totalVotes > 0 && (\r\n                <Typography variant=\"body2\">\r\n                  {Math.round((option.votes / totalVotes) * 100)}%\r\n                </Typography>\r\n              )}\r\n            </Box>\r\n            <LinearProgress \r\n              variant=\"determinate\" \r\n              value={totalVotes > 0 ? (option.votes / totalVotes) * 100 : 0} \r\n              sx={{ height: 8, borderRadius: 4 }}\r\n            />\r\n          </Box>\r\n        ))}\r\n        \r\n        {poll.is_active && (\r\n          <Box sx={{ mt: 2 }}>\r\n            <Typography variant=\"body2\" sx={{ mb: 1 }}>Select your vote:</Typography>\r\n            {options.map((option, index) => (\r\n              <Button\r\n                key={index}\r\n                variant={selectedOption === index ? \"contained\" : \"outlined\"}\r\n                size=\"small\"\r\n                sx={{ mr: 1, mb: 1 }}\r\n                onClick={() => setSelectedOption(index)}\r\n              >\r\n                {option.text}\r\n              </Button>\r\n            ))}\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<HowToVote />}\r\n              disabled={selectedOption === null}\r\n              onClick={handleVote}\r\n              sx={{ mt: 1 }}\r\n            >\r\n              Vote\r\n            </Button>\r\n          </Box>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PollCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}